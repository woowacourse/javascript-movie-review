# Component

모든 컴포넌트 클래스는 이 코어 컴포넌트 클래스를 상속받아 사용합니다.

코어 컴포넌트는 render, setState, appendChild 메서드와 template, addEventListener, onRender 추상 메서드로 구성되어 있습니다.

## 일반 메서드

1. `render()` : 각 컴포넌트에서 `template()`를 오버라이딩하고, 메서드 내부에서 html형식의 문자열 구조를 반환합니다. 그럼 이 `render()`메서드 내부에서 이를 컴포넌트의 껍데기 요소의 innerHTML에 넣어 컴포넌트를 (리)렌더링합니다. 이는 각 컴포넌트 내부에서 반복되는 innerHTML로직을 줄이고 통일성 있는 구조를 갖추고자 만든 메서드입니다. 또한 `setState()` 등 컴포넌트의 리렌더링이 필요한 때에도 용이하게 쓰입니다.
2. `setState()` : 컴포넌트의 state필드를 변경하는 메서드입니다. `render()`메서드 실행을 강제화합니다. 상태값이 변경되면 컴포넌트가 리렌더링되어야하는 경우가 많고, 이러한 흐름(상태 변경 → 컴포넌트 리렌더링)이 자연스럽다고 판단해 이와 같은 방식을 사용했습니다.
3. `fillSlot()` : 동적으로 컴포넌트를 추가하는 메서드입니다. 사용 방법은 다음과 같습니다.
   1. template에 `<slot name="이름"></slot>`과 같이 slot을 만든다.
   2. `onRender`에서 `this.fillSlot(new 컴포넌트(),"이름")`을 실행하면, 컴포넌트가 동적으로 추가가 된다.
4. `subsribe()` : 옵저버 패턴의 상태를 구독하는 메서드입니다. 컴포넌트 생명 주기에 한 번만 실행하면 되기에 setup에서 사용합니다.

## 추상 메서드

코어 컴포넌트를 상속받은 컴포넌트는 아래 메서드를 오버라이딩합니다.

1. `template()` : HTML구조의 문자열을 반환하는 메서드입니다. 반환 타입을 `HTMLType`로 지정함으로써 `html`함수의 사용을 반강제화하고 있습니다.

   html 함수는 현재는 태그드 템플릿 리터럴을 펼쳐주고, Component의 자식 클래스의 인스턴스의 경우 `template()`메서드를 실행해 문자열로 반환하는 역할을 수행합니다. 추후 이스케이프 처리, `render()`메서드를 실행하도록(가능하다면) 확장하고 싶습니다.

2. `onRender()` : `render()`메서드에서 컴포넌트의 껍데기 요소를 렌더링한 후 실행하는 메서드입니다. 주로 동적인 자식 컴포넌트를 렌더링할 때 사용합니다.
3. `addEventListener()` : 이벤트 리스너를 추가하는 메서드입니다. `onRender()`메서드를 실행한 후에 실행하며, 이벤트 리스너를 다는 메서드이기에 컴포넌트당 한번만 실행합니다.

## 프로퍼티

1. `state` : 컴포넌트 내부에서 관리하는 상태값입니다. 초기값은 this.state로 설정하고, 이후에는 setState를 실행해 상태값이 변경되면 리렌더링이 일어나도록 합니다.
2. `props` : 부모 컴포넌트에서 전달하는 값입니다. private 필드로 외부에서 직접 수정할 수 없습니다.
3. `element` : 컴포넌트의 껍데기 요소입니다. private 필드로 외부에서 직접 수정할 수 없습니다.
